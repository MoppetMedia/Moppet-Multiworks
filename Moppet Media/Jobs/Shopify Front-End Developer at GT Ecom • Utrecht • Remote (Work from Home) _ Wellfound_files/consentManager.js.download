"use strict";var Consent=(()=>{var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable;var __defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a};var __commonJS=(cb,mod)=>function(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports};var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})},__copyProps=(to,from,except,desc)=>{if(from&&typeof from=="object"||typeof from=="function")for(let key of __getOwnPropNames(from))!__hasOwnProp.call(to,key)&&key!==except&&__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to};var __toESM=(mod,isNodeMode,target)=>(target=mod!=null?__create(__getProtoOf(mod)):{},__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,"default",{value:mod,enumerable:!0}):target,mod)),__toCommonJS=mod=>__copyProps(__defProp({},"__esModule",{value:!0}),mod);var __publicField=(obj,key,value)=>__defNormalProp(obj,typeof key!="symbol"?key+"":key,value);var require_ms=__commonJS({"node_modules/ms/index.js"(exports,module){var s=1e3,m=s*60,h=m*60,d=h*24,w=d*7,y=d*365.25;module.exports=function(val,options){options=options||{};var type=typeof val;if(type==="string"&&val.length>0)return parse(val);if(type==="number"&&isFinite(val))return options.long?fmtLong(val):fmtShort(val);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))};function parse(str){if(str=String(str),!(str.length>100)){var match=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);if(match){var n=parseFloat(match[1]),type=(match[2]||"ms").toLowerCase();switch(type){case"years":case"year":case"yrs":case"yr":case"y":return n*y;case"weeks":case"week":case"w":return n*w;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function fmtShort(ms){var msAbs=Math.abs(ms);return msAbs>=d?Math.round(ms/d)+"d":msAbs>=h?Math.round(ms/h)+"h":msAbs>=m?Math.round(ms/m)+"m":msAbs>=s?Math.round(ms/s)+"s":ms+"ms"}function fmtLong(ms){var msAbs=Math.abs(ms);return msAbs>=d?plural(ms,msAbs,d,"day"):msAbs>=h?plural(ms,msAbs,h,"hour"):msAbs>=m?plural(ms,msAbs,m,"minute"):msAbs>=s?plural(ms,msAbs,s,"second"):ms+" ms"}function plural(ms,msAbs,n,name){var isPlural=msAbs>=n*1.5;return Math.round(ms/n)+" "+name+(isPlural?"s":"")}}});var require_common=__commonJS({"node_modules/debug/src/common.js"(exports,module){function setup(env){createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=coerce,createDebug.disable=disable,createDebug.enable=enable,createDebug.enabled=enabled,createDebug.humanize=require_ms(),createDebug.destroy=destroy,Object.keys(env).forEach(key=>{createDebug[key]=env[key]}),createDebug.names=[],createDebug.skips=[],createDebug.formatters={};function selectColor(namespace){let hash=0;for(let i=0;i<namespace.length;i++)hash=(hash<<5)-hash+namespace.charCodeAt(i),hash|=0;return createDebug.colors[Math.abs(hash)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(namespace){let prevTime,enableOverride=null,namespacesCache,enabledCache;function debug2(...args){if(!debug2.enabled)return;let self=debug2,curr=Number(new Date),ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr,args[0]=createDebug.coerce(args[0]),typeof args[0]!="string"&&args.unshift("%O");let index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,(match,format)=>{if(match==="%%")return"%";index++;let formatter=createDebug.formatters[format];if(typeof formatter=="function"){let val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match}),createDebug.formatArgs.call(self,args),(self.log||createDebug.log).apply(self,args)}return debug2.namespace=namespace,debug2.useColors=createDebug.useColors(),debug2.color=createDebug.selectColor(namespace),debug2.extend=extend,debug2.destroy=createDebug.destroy,Object.defineProperty(debug2,"enabled",{enumerable:!0,configurable:!1,get:()=>enableOverride!==null?enableOverride:(namespacesCache!==createDebug.namespaces&&(namespacesCache=createDebug.namespaces,enabledCache=createDebug.enabled(namespace)),enabledCache),set:v=>{enableOverride=v}}),typeof createDebug.init=="function"&&createDebug.init(debug2),debug2}function extend(namespace,delimiter){let newDebug=createDebug(this.namespace+(typeof delimiter=="undefined"?":":delimiter)+namespace);return newDebug.log=this.log,newDebug}function enable(namespaces){createDebug.save(namespaces),createDebug.namespaces=namespaces,createDebug.names=[],createDebug.skips=[];let split=(typeof namespaces=="string"?namespaces:"").trim().replace(" ",",").split(",").filter(Boolean);for(let ns of split)ns[0]==="-"?createDebug.skips.push(ns.slice(1)):createDebug.names.push(ns)}function matchesTemplate(search,template){let searchIndex=0,templateIndex=0,starIndex=-1,matchIndex=0;for(;searchIndex<search.length;)if(templateIndex<template.length&&(template[templateIndex]===search[searchIndex]||template[templateIndex]==="*"))template[templateIndex]==="*"?(starIndex=templateIndex,matchIndex=searchIndex,templateIndex++):(searchIndex++,templateIndex++);else if(starIndex!==-1)templateIndex=starIndex+1,matchIndex++,searchIndex=matchIndex;else return!1;for(;templateIndex<template.length&&template[templateIndex]==="*";)templateIndex++;return templateIndex===template.length}function disable(){let namespaces=[...createDebug.names,...createDebug.skips.map(namespace=>"-"+namespace)].join(",");return createDebug.enable(""),namespaces}function enabled(name){for(let skip of createDebug.skips)if(matchesTemplate(name,skip))return!1;for(let ns of createDebug.names)if(matchesTemplate(name,ns))return!0;return!1}function coerce(val){return val instanceof Error?val.stack||val.message:val}function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return createDebug.enable(createDebug.load()),createDebug}module.exports=setup}});var require_browser=__commonJS({"node_modules/debug/src/browser.js"(exports,module){exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.useColors=useColors;exports.storage=localstorage();exports.destroy=(()=>{let warned=!1;return()=>{warned||(warned=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let m;return typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&(m=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(m[1],10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(args){if(args[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+args[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;args.splice(1,0,c,"color: inherit");let index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,match=>{match!=="%%"&&(index++,match==="%c"&&(lastC=index))}),args.splice(lastC,0,c)}exports.log=console.debug||console.log||(()=>{});function save(namespaces){try{namespaces?exports.storage.setItem("debug",namespaces):exports.storage.removeItem("debug")}catch(error){}}function load(){let r;try{r=exports.storage.getItem("debug")}catch(error){}return!r&&typeof process!="undefined"&&"env"in process&&(r=process.env.DEBUG),r}function localstorage(){try{return localStorage}catch(error){}}module.exports=require_common()(exports);var{formatters}=module.exports;formatters.j=function(v){try{return JSON.stringify(v)}catch(error){return"[UnexpectedJSONParseError]: "+error.message}}}});var require_runtime_config=__commonJS({"node_modules/next/dist/shared/lib/runtime-config.js"(exports,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.setConfig=setConfig;exports.default=void 0;var runtimeConfig,_default=()=>runtimeConfig;exports.default=_default;function setConfig(configValue){runtimeConfig=configValue}(typeof exports.default=="function"||typeof exports.default=="object"&&exports.default!==null)&&typeof exports.default.__esModule=="undefined"&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)}});var require_config=__commonJS({"node_modules/next/config.js"(exports,module){module.exports=require_runtime_config()}});var consentManagerBundled_exports={};__export(consentManagerBundled_exports,{AnyConsentCallbackInfos:()=>AnyConsentCallbackInfos,ConsentCallbackOptions:()=>ConsentCallbackOptions,ConsentDecision:()=>ConsentDecision,ConsentManager:()=>ConsentManager,TrackerType:()=>TrackerType,createConsentManager:()=>createConsentManager,createLogger:()=>createLogger,initSegment:()=>initSegment,segmentIsReady:()=>segmentIsReady,segmentSettings:()=>segmentSettings});var import_debug=__toESM(require_browser());var import_config=__toESM(require_config());function getConfig(){let config=(0,import_config.default)();return __spreadValues(__spreadValues({},config.publicRuntimeConfig),config.serverRuntimeConfig)}function isBrowserEnvironment(){return typeof window!="undefined"}var{DEBUG_LOGS_ENABLED_NAMESPACES}=getNamespaceConfig();function getNamespaceConfig(){return isBrowserEnvironment()?{DEBUG_LOGS_ENABLED_NAMESPACES:""}:getConfig()}function getCookie(name){let match=document.cookie.match(new RegExp(`(^| )${name}=([^;]+)`));return match?match[2]:void 0}function createLogger(name){return(0,import_debug.default)(`wellfound:${name}`)}import_debug.default.enable(DEBUG_LOGS_ENABLED_NAMESPACES);if(isBrowserEnvironment()&&typeof document!="undefined"){let debugLevel=getCookie("wellfound_debug");debugLevel&&(console.log("Enabling debug logs based on cookie:",debugLevel),import_debug.default.enable(debugLevel))}function assign(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)target[key]=source[key]}return target}var defaultConverter={read:function(value){return value[0]==='"'&&(value=value.slice(1,-1)),value.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(value){return encodeURIComponent(value).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init(converter,defaultAttributes){function set(key,value,attributes){if(typeof document!="undefined"){attributes=assign({},defaultAttributes,attributes),typeof attributes.expires=="number"&&(attributes.expires=new Date(Date.now()+attributes.expires*864e5)),attributes.expires&&(attributes.expires=attributes.expires.toUTCString()),key=encodeURIComponent(key).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var stringifiedAttributes="";for(var attributeName in attributes)attributes[attributeName]&&(stringifiedAttributes+="; "+attributeName,attributes[attributeName]!==!0&&(stringifiedAttributes+="="+attributes[attributeName].split(";")[0]));return document.cookie=key+"="+converter.write(value,key)+stringifiedAttributes}}function get(key){if(!(typeof document=="undefined"||arguments.length&&!key)){for(var cookies=document.cookie?document.cookie.split("; "):[],jar={},i=0;i<cookies.length;i++){var parts=cookies[i].split("="),value=parts.slice(1).join("=");try{var foundKey=decodeURIComponent(parts[0]);if(jar[foundKey]=converter.read(value,foundKey),key===foundKey)break}catch(e){}}return key?jar[key]:jar}}return Object.create({set,get,remove:function(key,attributes){set(key,"",assign({},attributes,{expires:-1}))},withAttributes:function(attributes){return init(this.converter,assign({},this.attributes,attributes))},withConverter:function(converter2){return init(assign({},this.converter,converter2),this.attributes)}},{attributes:{value:Object.freeze(defaultAttributes)},converter:{value:Object.freeze(converter)}})}var api=init(defaultConverter,{path:"/"}),js_cookie_default=api;var log=createLogger("lib:consentManager"),TrackerType=(TrackerType2=>(TrackerType2.Advertising="advertising",TrackerType2.Functional="functional",TrackerType2.Required="required",TrackerType2))(TrackerType||{}),ConsentDecision=(ConsentDecision2=>(ConsentDecision2[ConsentDecision2.None=0]="None",ConsentDecision2[ConsentDecision2.Required=1]="Required",ConsentDecision2[ConsentDecision2.Functional=2]="Functional",ConsentDecision2[ConsentDecision2.Advertising=3]="Advertising",ConsentDecision2))(ConsentDecision||{}),supportedTracker=function(trackerType){return Object.values(TrackerType).includes(trackerType)},ConsentCallbackOptions=class{constructor(isInitializing){__publicField(this,"reloadRequested",!1);__publicField(this,"initializing");this.initializing=isInitializing}requestReload(){if(this.initializing)throw new Error("Can't request reload during initialization");this.reloadRequested=!0}hasReloadBeenRequested(){return this.reloadRequested}isInitializing(){return this.initializing}},AnyConsentCallbackInfos=class{constructor(consents,addedConsents,removedConsents){__publicField(this,"consents");__publicField(this,"addedConsents");__publicField(this,"removedConsents");this.consents=consents,this.addedConsents=addedConsents,this.removedConsents=removedConsents}wasAdded(trackerType){return this.addedConsents.includes(trackerType)}wasRemoved(trackerType){return this.removedConsents.includes(trackerType)}},LOCAL_STORAGE_KEYS_TO_RETAIN={required:["debug","optout_domains",/truste\..*/],functional:[/.*-note/,"company-completeness-banner","weekly-reveals-lists-seen-states","jobApplicationUserNotes","localExperimentContext","raven-beta-modal-dismissed","raven-beta-banner-dismissed","RESUME_REVIEW_BANNER_DISMISSED",/soruceExcludeCurated-.*/,"_cltk",/persist:hs-.*/,/_hj.*/,"hjActiveViewportIds",/ajs.*/,/persisted-queue:v1:.*Segment.*/],advertising:["ka","ko_sid","ko_id","li_adsId",/_reb2b.*/]},WELLFOUND_CONSENT_COOKIE_NAME="wellfound_default_consent";function cleanupLocalStorage(consents){let allKeys=Object.keys(localStorage),keysToRetain=new Set;consents.forEach(consent=>{(LOCAL_STORAGE_KEYS_TO_RETAIN[consent]||[]).forEach(key=>{typeof key=="string"?keysToRetain.add(key):key instanceof RegExp&&allKeys.forEach(storageKey=>{key.test(storageKey)&&keysToRetain.add(storageKey)})})});let keysToRemove=allKeys.filter(key=>!keysToRetain.has(key));keysToRemove.length!==0&&(log("Keys to remove from localStorage:",keysToRemove),keysToRemove.forEach(key=>{localStorage.removeItem(key)}))}var createConsentManager=function(){let currentlyConsentedTrackers=[],currentConsentSource,initialConsentLoaded=!1,callbacksAnyChanged=[],callbacksAdded={required:[],functional:[],advertising:[]},callbacksRemoved={required:[],functional:[],advertising:[]},storeAndLogConsentChange=function(message,updatedConsents,updatedSource){log(`${message} - [${currentlyConsentedTrackers}] (${currentConsentSource||"n/a"}) => [${updatedConsents}] (${updatedSource||"n/a"})`),currentlyConsentedTrackers=updatedConsents,currentConsentSource=updatedSource},persistChangeInBackend=function(updatedConsents){if(typeof(navigator==null?void 0:navigator.sendBeacon)!="function")return;let data=JSON.stringify({consents:updatedConsents}),success=navigator.sendBeacon("/tracker_consent",new Blob([data],{type:"application/json"}));log(success?"Preference updated beacon enqueued":"Failed to enqueue preference updated beacon")},updateConsent=function(updatedConsents,updatedSource,isInitializing){let addedConsents=updatedConsents.filter(item=>!(currentlyConsentedTrackers!=null&&currentlyConsentedTrackers.includes(item))),removedConsents=currentlyConsentedTrackers.filter(item=>!updatedConsents.includes(item)),sourceChanged=updatedSource!==currentConsentSource,consentChanged=addedConsents.length>0||removedConsents.length>0;if(!consentChanged&&!sourceChanged){storeAndLogConsentChange("Consent did not change",updatedConsents,updatedSource);return}let options=new ConsentCallbackOptions(isInitializing);if(options.isInitializing()||persistChangeInBackend(updatedConsents),!consentChanged){storeAndLogConsentChange("Source of consent changed",updatedConsents,updatedSource);return}storeAndLogConsentChange("Consent was updated",updatedConsents,updatedSource),Object.values(addedConsents).forEach(trackerType=>{callbacksAdded[trackerType]&&callbacksAdded[trackerType].forEach(callback=>{try{callback(options)}catch(error){log("Error executing consent added callback:",error)}})}),Object.values(removedConsents).forEach(trackerType=>{callbacksRemoved[trackerType]&&callbacksRemoved[trackerType].forEach(callback=>{try{callback(options)}catch(error){log("Error executing consent removed callback:",error)}})}),callbacksAnyChanged.forEach(callback=>{try{callback(new AnyConsentCallbackInfos(currentlyConsentedTrackers,addedConsents,removedConsents),options)}catch(error){log("Error executing consent changed callback:",error)}}),options.hasReloadBeenRequested()&&(log("Reloading page because consent callback requested a reload"),setTimeout(()=>{window.location.reload()},100))},loadConsentFromTrustArc=({defaultToFullConsent,isInitializing})=>{if(!isBrowserEnvironment())return;let initialConsents=[],initialSource="defaults",truste=window==null?void 0:window.truste,cma=truste==null?void 0:truste.cma;if(!cma&&!defaultToFullConsent)log("TrustArc CMA not found - Implying required consent"),initialConsents.push("required");else if(!cma)log("TrustArc CMA not found - Assuming highest level of consent"),initialConsents.push("required","functional","advertising");else{let{consentDecision,source}=cma.callApi("getGDPRConsentDecision",window.location.hostname);source==="implied"?(truste==null?void 0:truste.eu).bindMap.feat.autoblock!==!1?(initialSource="implied-required",initialConsents.push("required"),js_cookie_default.set(WELLFOUND_CONSENT_COOKIE_NAME,"1|implied-required",{expires:365,secure:!0})):(initialSource="implied-full",initialConsents.push("required","functional","advertising"),js_cookie_default.set(WELLFOUND_CONSENT_COOKIE_NAME,"1|implied-full",{expires:365,secure:!0})):(js_cookie_default.get(WELLFOUND_CONSENT_COOKIE_NAME)&&js_cookie_default.remove(WELLFOUND_CONSENT_COOKIE_NAME),initialSource="asserted",Object.values(consentDecision).forEach(decision=>{decision===0?log("No consent given yet"):decision===1?initialConsents.push("required"):decision===2?initialConsents.push("functional"):decision===3?initialConsents.push("advertising"):console.error("Unsupported consent decision:",decision)}))}updateConsent(initialConsents,initialSource,isInitializing)};return{testUpdateConsent(updatedConsents){updateConsent(updatedConsents,"asserted",!1)},init(options){if(!isBrowserEnvironment()){log("Not running Consent Manager because we're not in a browser environment");return}if(initialConsentLoaded){log("Consent Manager already initialized");return}window.addEventListener("message",event=>{try{let message=JSON.parse(event.data);message.source==="preference_manager"&&message.message==="submit_preferences"&&loadConsentFromTrustArc({defaultToFullConsent:!1,isInitializing:!1})}catch(error){}},!1),this.addAnyConsentChangedListener(infos=>{cleanupLocalStorage(infos.consents)}),log("Cookie Consent Manager ready - Loading known consent"),loadConsentFromTrustArc({defaultToFullConsent:(options==null?void 0:options.defaultToFullConsent)||!1,isInitializing:!0}),initialConsentLoaded=!0},addAnyConsentChangedListener(consentChangedCallback){return callbacksAnyChanged.push(consentChangedCallback),currentlyConsentedTrackers.length>0&&setTimeout(()=>{consentChangedCallback(new AnyConsentCallbackInfos(currentlyConsentedTrackers,currentlyConsentedTrackers,[]),new ConsentCallbackOptions(!0))},0),()=>{callbacksAnyChanged=callbacksAnyChanged.filter(callback=>callback!==consentChangedCallback)}},addConsentChangedListener(trackerType,consentAddedCallback,consentRemovedCallback){if(!supportedTracker(trackerType))throw new Error("Unsupported tracker type");return callbacksAdded[trackerType].push(consentAddedCallback),consentRemovedCallback&&callbacksRemoved[trackerType].push(consentRemovedCallback),currentlyConsentedTrackers.includes(trackerType)&&setTimeout(()=>{consentAddedCallback(new ConsentCallbackOptions(!1))},0),()=>{callbacksAdded[trackerType]=callbacksAdded[trackerType].filter(callback=>callback!==consentAddedCallback),consentRemovedCallback&&(callbacksRemoved[trackerType]=callbacksRemoved[trackerType].filter(callback=>callback!==consentRemovedCallback))}},hasGivenConsent(category){return currentlyConsentedTrackers.includes(category)},openPreferences(){var _a,_b;let open=(_b=(_a=window==null?void 0:window.truste)==null?void 0:_a.eu)==null?void 0:_b.clickListener;open?open():log("No preference button found or TrustArc not loaded")}}},ConsentManager=createConsentManager();var log2=createLogger("lib:consentManagerBundled"),GGL_TAG_MANAGER_INTEGRATION="Google Tag Manager",LINKEDIN_INSIGHT_TAG_INTEGRATION="LinkedIn Insight Tag",AWS_S3_PRODUCTION_INTEGRATION="AWS S3",SEGMENT_INTEGRATION="Segment.io",segmentSettings={segmentLoaded:!1,segmentInitialized:!1,integrations:{All:!1,[AWS_S3_PRODUCTION_INTEGRATION]:!0,[SEGMENT_INTEGRATION]:!0,Iterable:!0,Slack:!0,Webhooks:!0,Intercom:!1,Hotjar:!1,[GGL_TAG_MANAGER_INTEGRATION]:!1,[LINKEDIN_INSIGHT_TAG_INTEGRATION]:!1},cookieDomain:void 0,writeKey:null,load(_writeKey,_libraryOptions){throw new Error("Function not configured.")},reset(){throw new Error("Function not configured.")},consentManager:void 0};function segmentIsReady(){return segmentSettings.segmentLoaded&&segmentSettings.segmentInitialized}function updateIntegrations(consents){segmentSettings.integrations[SEGMENT_INTEGRATION]=consents.includes("functional"),segmentSettings.integrations.Hotjar=consents.includes("functional"),segmentSettings.integrations[GGL_TAG_MANAGER_INTEGRATION]=consents.includes("functional"),segmentSettings.integrations[LINKEDIN_INSIGHT_TAG_INTEGRATION]=consents.includes("advertising"),log2("Segment integrations updated",segmentSettings.integrations)}function consentChangedHandler(infos,options,onLoaded){if(infos.wasAdded("functional")&&!segmentSettings.segmentLoaded){updateIntegrations(infos.consents);let libraryOptions={integrations:segmentSettings.integrations,cookie:{domain:segmentSettings.cookieDomain,secure:!0}};log2("Segment library options",libraryOptions),segmentSettings.load(segmentSettings.writeKey,libraryOptions),log2("Segment loaded"),segmentSettings.segmentLoaded=!0,onLoaded==null||onLoaded();return}if(infos.wasAdded("advertising")&&segmentSettings.segmentLoaded){options.requestReload(),log2("Reload requested by segment");return}if(infos.wasRemoved("functional")||infos.wasRemoved("advertising")){segmentSettings.reset(),options.requestReload(),log2("Reload requested by segment");return}log2("Ignoring consent change")}function initSegment({writeKey,cookieDomain,load,reset,onLoaded,consentManager=ConsentManager}){if(!writeKey)throw new Error("Segment writeKey not configured");if(!cookieDomain)throw new Error("Segment cookieDomain not configured");if(!load)throw new Error("Segment load function not configured");if(!reset)throw new Error("Segment reset function not configured");if(segmentSettings.segmentInitialized){log2("Segment already initialized, skipping"),onLoaded==null||onLoaded();return}segmentSettings.writeKey=writeKey,segmentSettings.cookieDomain=cookieDomain,segmentSettings.load=load,segmentSettings.reset=reset,segmentSettings.consentManager=consentManager,segmentSettings.segmentInitialized=!0,segmentSettings.consentManager.addAnyConsentChangedListener((infos,options)=>consentChangedHandler(infos,options,onLoaded))}return __toCommonJS(consentManagerBundled_exports);})();
